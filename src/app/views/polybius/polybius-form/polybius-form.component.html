<form [formGroup]="form" (ngSubmit)="onSubmitForm()" class="p-4">
  <h1>{{labels?.header}}</h1>
  <div class="form-group mb-3">
    <label for="input">{{labels?.input}}</label>
    <textarea id="input" formControlName="input" class="form-control" rows="5"></textarea>
  </div>

  <div class="form-group mb-3">
    <label for="key">{{labels?.key}}</label>
    <div class="d-flex align-items-center gap-3">
      <div class="flex-fill">
        <input type="text" id="key" formControlName="key" class="form-control flex-fill"
          [ngClass]="{'is-invalid': canShowInputError('key') }" />
        <div *ngIf="canShowInputError('key')"
          class="invalid-feedback">
          <ng-container *ngIf="form.controls['key'].errors?.['required'];else second">
            Enter key
          </ng-container>
          <ng-template #second>
            <ng-container *ngIf="form.controls['key'].errors?.['polybiusKey']">
              Enter valid key
            </ng-container>
          </ng-template>
          <ng-template #third></ng-template>
        </div>
      </div>
      <button type="button" class="btn btn-primary" (click)="getRandomKey()">{{labels?.generateButton}}</button>
    </div>


  </div>
  <div class="d-flex flex-wrap align-items-center justify-content-between">
    <div class="form-check">
      <input class="form-check-input" type="checkbox" formControlName="prime" id="prime">
      <label class="form-check-label" for="prime">
        {{labels?.prime}}
      </label>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!form.valid">{{labels?.button}}</button>
  </div>
  <div class="form-group mt-3">
    <label for="output">{{labels?.output}}</label>
    <textarea id="output" formControlName="output" class="form-control" rows="5"></textarea>
  </div>
</form>
